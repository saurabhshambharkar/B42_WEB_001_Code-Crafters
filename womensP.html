<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Men's Fashion Store</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #fff;
      }
      header {
        position: fixed;
        top: 0;
        width: 100%;
        background-color: white;
        color: black;
        font-weight: lighter;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #ccc;
        z-index: 1000;
        margin-bottom: 10px;
      }
      .logo {
        font-size: 24px;
        font-weight: bold;
      }
      nav {
        flex-grow: 1;
        text-align: center;

      }
      nav ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }
      nav ul li {
        display: inline;
        margin: 0 15px;
        font-weight: bold;
        cursor: pointer;
      }
      .right-icons {
        display: flex;
        align-items: center;
      }
      .right-icons img {
        width: 24px;
        height: 24px;
        margin-left: 15px;
        cursor: pointer;
      }
      .search-bar {
        display: flex;
        align-items: center;
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 5px;
      }
      .search-bar input {
        border: none;
        outline: none;
        font-size: 16px;
        padding: 5px;
      }
      .addcartbtn{
            padding: 10px 15px;
            color: white;
            font-weight: 700;
            background-color: rgb(28, 28, 177);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
      }
      .addcartbtn:hover {
        background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(11,84,159,1) 15%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%);
      }
      main {
            display: flex;
            padding: 20px;
            margin-top: 5%;
        }
        .filters {
            width: 25%;
            padding: 15px;
            background: #f8f8f8;
        }
        .filters h2, .filters h3 {
            margin: 10px 0;
        }
        .filters ul {
            list-style: none;
            padding: 0;
        }
        .filters ul li {
            padding: 5px 0;
        }
        .products {
            width: 75%;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .product {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            background: #fff;
        }
        .product img {
            max-width: 100%;
            height: auto;
        }
        .product h3 {
            margin: 10px 0;
        }
        footer {
            text-align: center;
            padding: 10px;
            background: #333;
            color: white;
            margin-top: 20px;
        }
    </style>
  </head>
  <body>
    <header>
      <div class="logo" >MODESONS  <img src="./WhatsApp Image 2025-02-05 at 11.08.26_64fbfe95.ico" alt="logo" style="height: 30px;"></div>
      <nav>
        <ul>
          <li>Women</li>
          <li>Men</li>
          <li>Kids</li>
          <li>Home</li>
          <li>Designers</li>
          <li>Community</li>
          <li>Sale</li>
        </ul>
      </nav>
      <div class="right-icons">
        <div class="search-bar">
          <input type="text" placeholder="Search" />
        </div>
        <img src="https://cdn-icons-png.flaticon.com/128/14009/14009677.png" alt="Country" />
        <img src="https://cdn-icons-png.flaticon.com/128/3602/3602145.png" alt="Notifications" />
        <img src="https://cdn-icons-png.flaticon.com/128/6051/6051092.png" alt="Wishlist" />
        <img src="https://cdn-icons-png.flaticon.com/128/4903/4903482.png" alt="Cart" />
        <img src="https://cdn-icons-png.flaticon.com/128/9308/9308008.png" alt="Profile" />
      </div>
    </header>
    <main>
        <aside class="filters">
            <h2>Filter</h2>
            <input type="text" placeholder="Filter by keyword" id="searchProduct">
            <h3>Gender</h3>
            <h3>Category</h3>
            <h3>Designer</h3>
            <h3>Color</h3>
            <h3>Material</h3>
            <h3>Conditions</h3>
            <h3>Sale Discount</h3>
            <h3>Store</h3>
            <h3>Related Categories</h3>
            <ul>
                <li>Women Clothing</li>
                <li>Women Shoes</li>
                <li>Women Bags</li>
                <li>Women Accessories</li>
                <li>Women Beauty</li>
                <li>Women Sale</li>
                <li>Men</li>
                <li>Pre-Owned Women</li>
            </ul>
            <h3>Related Searches</h3>
            <ul>
                <li>Gucci Women</li>
                <li>Versace Women</li>
                <li>Valentino Women</li>
                <li>Saint Laurent Women</li>
                <li>Fendi Women</li>
                <li>Burberry Women</li>
                <li>Off-White Women</li>
                <li>Balenciaga Women</li>
                <li>Givenchy Women</li>
                <li>Prada Women</li>
            </ul>
        </aside>
        
        <section class="products" id="products">
            <!-- Products will be dynamically inserted here -->
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 Your Company. All rights reserved.</p>
    </footer>
  </body>
</html>
<script>
     async function fetchProducts() {
            try {
                let response = await fetch('https://modesensewomenclothing-default-rtdb.firebaseio.com/women.json');
                let data = await response.json();
                let productsContainer = document.getElementById('products');

                let searchProduct=document.querySelector("#searchProduct")
                searchProduct.addEventListener("input",(e)=>{displayFilterData(data,e.target.value)})

                //console.log( data)
                //data.forEach(([id,item])=>{console.log(id,data)})
                let i=0;
                for (let key in data) {
                    
                    //console.log(data[key])
                    let {Designers,category,description,image1,price,productCategory} = data[key];
                    let productDiv = document.createElement('div');
                    productDiv.classList.add('product');

                    let addcart = document.createElement("button");
                    addcart.innerText = "Add to Cart";
                    addcart.classList.add("addcartbtn");
                    addcart.setAttribute("id",i)
                    i++
                    // addcart.dataset.id = product.id;
                    // addcart.dataset.title = product.Designers;
                    // addcart.dataset.price = product.price; // Dummy price
                    // addcart.dataset.image = product.image2;
                    //
                    

                    //console.log(price)
                    productDiv.innerHTML = `
                        <img src="${image1}" alt="${description}">
                        <h3>${Designers}</h3>
                        <p>${category}</p>
                        <p>${description}</p>
                        <p>Price: ${price}</p>
                    `;
                    productDiv.append(addcart)
                    productsContainer.appendChild(productDiv);
                    addcart.addEventListener("click", (e) => addToCart(e.target.id,Designers,price,image1));
                    
                }
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }
        function addToCart(id,title, price, image) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            let existingItem = cart.find(item => item.id === id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, title, price, image, quantity: 1 });
            }

            localStorage.setItem("cart", JSON.stringify(cart));

            window.location.href = './cart.html';
        }
        fetchProducts();


        // Filter product
        async function displayFilterData(data,srchwd){
            try{
                let productsContainer = document.getElementById('products');
                productsContainer.innerHTML=""
                data=data.filter((item)=>item.description.toLowerCase().includes(srchwd.toLowerCase()))
                let i=0;
                for (let key in data) {
                    
                    //console.log(data[key])
                    let {Designers,category,description,image1,price,productCategory} = data[key];
                    let productDiv = document.createElement('div');
                    productDiv.classList.add('product');

                    let addcart = document.createElement("button");
                    addcart.innerText = "Add to Cart";
                    addcart.classList.add("addcartbtn");
                    addcart.setAttribute("id",i)
                    i++
                    // addcart.dataset.id = product.id;
                    // addcart.dataset.title = product.Designers;
                    // addcart.dataset.price = product.price; // Dummy price
                    // addcart.dataset.image = product.image2;
                    //
                    

                    //console.log(price)
                    productDiv.innerHTML = `
                        <img src="${image1}" alt="${description}">
                        <h3>${Designers}</h3>
                        <p>${category}</p>
                        <p>${description}</p>
                        <p>Price: ${price}</p>
                    `;
                    productDiv.append(addcart)
                    productsContainer.appendChild(productDiv);
                    addcart.addEventListener("click", (e) => addToCart(e.target.id,Designers,price,image1));
                    
                }
            }
            catch(err){
                console.log(err)
            }
        }
</script>